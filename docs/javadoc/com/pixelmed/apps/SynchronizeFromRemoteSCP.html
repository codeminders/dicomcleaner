<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Fri Aug 17 18:33:47 EDT 2018 -->
<title>SynchronizeFromRemoteSCP</title>
<meta name="date" content="2018-08-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SynchronizeFromRemoteSCP";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pixelmed/apps/StudyReceiver.WatchDatabaseAndProcessCompleteStudies.html" title="class in com.pixelmed.apps"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pixelmed/apps/SynchronizeFromRemoteSCP.OurReadTerminationStrategy.html" title="class in com.pixelmed.apps"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pixelmed/apps/SynchronizeFromRemoteSCP.html" target="_top">Frames</a></li>
<li><a href="SynchronizeFromRemoteSCP.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.pixelmed.apps</div>
<h2 title="Class SynchronizeFromRemoteSCP" class="title">Class SynchronizeFromRemoteSCP</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.pixelmed.apps.SynchronizeFromRemoteSCP</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SynchronizeFromRemoteSCP</span>
extends java.lang.Object</pre>
<div class="block"><p>A class for synchronizing the contents of a local database of DICOM objects with a remote SCP.</p>

 <p>The class has no public methods other than the constructor and a main method that is useful as a utility. The
 constructor establishes an association, sends hierarchical C-FIND requests at the STUDY, SERIES and IMAGE
 levels to determine what is available on the remote AE, then attempts to retrieve anything not present
 locally at the highest level possible. E.g., if a study is not present, a retrieve of the entire study
 is requested.

 Verbosity of logging can be controlled using the SLF4J log level. The default INFO level summarizes major
 actions, such as which studies, series and instances are fetched and which files are received; it can
 be suppressed by setting the logging level to a higher level, such as WARN, or enhanced by using DEBUG or TRACE.

 <p>The main method is also useful in its own right as a command-line utility. For example:</p>
 <pre>
java -cp ./pixelmed.jar:./lib/additional/hsqldb.jar -Djava.awt.headless=true \
        -Dorg.slf4j.simpleLogger.log.com.pixelmed.apps.SynchronizeFromRemoteSCP=warn \
        com.pixelmed.apps.SynchronizeFromRemoteSCP \
        /tmp/dicomsync/database /tmp/dicomsync \
        them 104 THEM \
        11112 US
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pixelmed/apps/SynchronizeFromRemoteSCP.OurReadTerminationStrategy.html" title="class in com.pixelmed.apps">SynchronizeFromRemoteSCP.OurReadTerminationStrategy</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../com/pixelmed/dicom/AttributeList.ReadTerminationStrategy.html" title="interface in com.pixelmed.dicom">AttributeList.ReadTerminationStrategy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pixelmed/apps/SynchronizeFromRemoteSCP.html#terminateAfterRelationshipGroup">terminateAfterRelationshipGroup</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/pixelmed/apps/SynchronizeFromRemoteSCP.html#SynchronizeFromRemoteSCP-com.pixelmed.database.DatabaseInformationModel-java.io.File-java.lang.String-int-java.lang.String-int-java.lang.String-boolean-boolean-java.lang.String-boolean-boolean-boolean-">SynchronizeFromRemoteSCP</a></span>(<a href="../../../com/pixelmed/database/DatabaseInformationModel.html" title="class in com.pixelmed.database">DatabaseInformationModel</a>&nbsp;databaseInformationModel,
                        java.io.File&nbsp;savedInstancesFolder,
                        java.lang.String&nbsp;remoteHost,
                        int&nbsp;remotePort,
                        java.lang.String&nbsp;remoteAE,
                        int&nbsp;localPort,
                        java.lang.String&nbsp;localAE,
                        boolean&nbsp;useGet,
                        boolean&nbsp;queryAll,
                        java.lang.String&nbsp;queryPatternFileName,
                        boolean&nbsp;anyTransferSyntax,
                        boolean&nbsp;retrieveStudy,
                        boolean&nbsp;reuseAssociations)</code>
<div class="block">Synchronize the contents of a local database of DICOM objects with a remote SCP.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pixelmed/apps/SynchronizeFromRemoteSCP.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;arg)</code>
<div class="block">Synchronize the contents of a local database of DICOM objects with a remote SCP.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="terminateAfterRelationshipGroup">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>terminateAfterRelationshipGroup</h4>
<pre>protected static final&nbsp;<a href="../../../com/pixelmed/dicom/AttributeList.ReadTerminationStrategy.html" title="interface in com.pixelmed.dicom">AttributeList.ReadTerminationStrategy</a> terminateAfterRelationshipGroup</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SynchronizeFromRemoteSCP-com.pixelmed.database.DatabaseInformationModel-java.io.File-java.lang.String-int-java.lang.String-int-java.lang.String-boolean-boolean-java.lang.String-boolean-boolean-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SynchronizeFromRemoteSCP</h4>
<pre>public&nbsp;SynchronizeFromRemoteSCP(<a href="../../../com/pixelmed/database/DatabaseInformationModel.html" title="class in com.pixelmed.database">DatabaseInformationModel</a>&nbsp;databaseInformationModel,
                                java.io.File&nbsp;savedInstancesFolder,
                                java.lang.String&nbsp;remoteHost,
                                int&nbsp;remotePort,
                                java.lang.String&nbsp;remoteAE,
                                int&nbsp;localPort,
                                java.lang.String&nbsp;localAE,
                                boolean&nbsp;useGet,
                                boolean&nbsp;queryAll,
                                java.lang.String&nbsp;queryPatternFileName,
                                boolean&nbsp;anyTransferSyntax,
                                boolean&nbsp;retrieveStudy,
                                boolean&nbsp;reuseAssociations)
                         throws <a href="../../../com/pixelmed/dicom/DicomException.html" title="class in com.pixelmed.dicom">DicomException</a>,
                                <a href="../../../com/pixelmed/network/DicomNetworkException.html" title="class in com.pixelmed.network">DicomNetworkException</a>,
                                java.io.IOException,
                                java.lang.InterruptedException</pre>
<div class="block"><p>Synchronize the contents of a local database of DICOM objects with a remote SCP.</p>

 <p>Queries the remote SCP for everything it has and retrieves all instances not already present in the specified local database.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>databaseInformationModel</code> - the local database (will be created if does not already exist)</dd>
<dd><code>savedInstancesFolder</code> - where to save retrieved instances (must already exist)</dd>
<dd><code>remoteHost</code> - </dd>
<dd><code>remotePort</code> - </dd>
<dd><code>remoteAE</code> - </dd>
<dd><code>localPort</code> - local port for DICOM listener ... must already be known to remote AE unless C-GET</dd>
<dd><code>localAE</code> - local AET for DICOM listener ... must already be known to remote AE unless C-GET</dd>
<dd><code>useGet</code> - if true, use C-GET rather than C-MOVE</dd>
<dd><code>queryAll</code> - if true query for all patient names at once, rather than selectively by first letter, unless there is a queryPatternFileName</dd>
<dd><code>queryPatternFileName</code> - a file containing a list of PatientName query patterns, one per line</dd>
<dd><code>anyTransferSyntax</code> - if true, accept any Transfer Syntax, not just uncompressed ones</dd>
<dd><code>retrieveStudy</code> - if true, retrieve only at STUDY level, not confirming every instance</dd>
<dd><code>reuseAssociations</code> - if true, keep alive and reuse Associations</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pixelmed/dicom/DicomException.html" title="class in com.pixelmed.dicom">DicomException</a></code></dd>
<dd><code><a href="../../../com/pixelmed/network/DicomNetworkException.html" title="class in com.pixelmed.network">DicomNetworkException</a></code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;arg)</pre>
<div class="block"><p>Synchronize the contents of a local database of DICOM objects with a remote SCP.</p>

 <p>Queries the remote SCP for everything it has and retrieves all instances not already present in the specified local database.</p>

 <p>Will register the supplied local AE and port with Bonjour if supported (this is specific to the main() method; the constructor of the class itself does not do this).</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arg</code> - array of 6 to 12 strings - the fully qualified path of the database file prefix, the fully qualified path of the saved incoming files folder,
                                        the remote hostname, remote port, remote AE Title, our port (ignored if GET), our AE Title,
                                        optionally GET or MOVE (defaults to MOVE),
                                        optionally query by ALL or SELECTIVE patient name (defaults to ALL) or a filename containing a list of PatientName query patterns (one per line),
                                        optionally UNCOMPRESSED or ANY (defaults to UNCOMPRESSED)
                                        optionally a retrieval level STUDY or INSTANCE (defaults to INSTANCE)
                                        optionally REUSE or NEW associations for each query and retrieval (defaults to NEW)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pixelmed/apps/StudyReceiver.WatchDatabaseAndProcessCompleteStudies.html" title="class in com.pixelmed.apps"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pixelmed/apps/SynchronizeFromRemoteSCP.OurReadTerminationStrategy.html" title="class in com.pixelmed.apps"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pixelmed/apps/SynchronizeFromRemoteSCP.html" target="_top">Frames</a></li>
<li><a href="SynchronizeFromRemoteSCP.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
